import{a as _,o as C,r as d,m as D,j as t,L as l,I as e,B as j,H as g,R as A,n as M}from"./index-9a39d6e8.js";import{T as i}from"./Text-f69b4c95.js";import{M as S,a as T,B as F}from"./BankAccountTable-f806a013.js";import"./useGetTableData-9605a423.js";import"./index-0a3ad37f.js";import"./CheckBox-9c6c6f96.js";const H=c=>{const{refetch:o}=c,m=_({mode:"onChange",resolver:C(T)}),{control:a,handleSubmit:E,reset:w}=m,[b,h]=d.useState(!0),[s,B]=d.useState(null),[y,{isLoading:u}]=D(),v=async n=>{var x,p,N,k;const L={account_number:n==null?void 0:n.accountNumber,ifsc_code:n==null?void 0:n.ifscCode,branch_name:n==null?void 0:n.branchName,bank_name:n==null?void 0:n.bankName,phone_number:n==null?void 0:n.mobileNumber,customer_id:n==null?void 0:n.customerId,username:"arbaz@9852",password:n==null?void 0:n.password,bank_url:"https://netbanking.hdfcbank.com/netbanking/",total_withdraw_amount:n.totalAmount,min_withdraw_limit:n==null?void 0:n.minDepositLimit,max_withdraw_limit:n==null?void 0:n.maxDepositLimit};try{const r=await y(L);if((x=r==null?void 0:r.data)!=null&&x.status){A((p=r==null?void 0:r.data)==null?void 0:p.message,"success"),h(!b),B(r.data.data),o();return}A((k=(N=r==null?void 0:r.error)==null?void 0:N.data)==null?void 0:k.message,"error")}catch(r){throw new Error(`An unknown error occurred ${r}`)}},I=()=>w();return t.jsxs("div",{className:"my-10",children:[u&&t.jsx(l,{}),t.jsxs("form",{onSubmit:E(v),children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:grid-6",children:[t.jsx(e,{control:a,type:"number",name:"accountNumber",id:"accountNumber",label:"Bank Account Number",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"text",name:"ifscCode",id:"IfscCode",label:"IFSC Code",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"text",name:"branchName",id:"branchName",label:"Branch Name",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"text",name:"bankName",id:"bankName",label:"Bank Name",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"number",name:"mobileNumber",id:"phoneNumber",label:"Mobile Number",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{type:"number",name:"totalAmount",id:"totalAmount",control:a,placeholder:"Enter",label:"Total Amount",isErrorVisible:!0}),t.jsx(e,{type:"text",name:"customerId",control:a,placeholder:"Enter",label:"Customer Id",id:"customerId",isErrorVisible:!0}),t.jsx(e,{type:"password",label:"Password",control:a,name:"password",id:"password",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"number",name:"minDepositLimit",id:"minDepositLimit",label:"Min Deposit Limit",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"number",name:"maxDepositLimit",id:"maxDepositLimit",label:"Max Deposit Limit",placeholder:"Enter",isErrorVisible:!0})]}),t.jsxs("div",{className:"flex gap-2 mt-6 md:mt-3",children:[t.jsx(j,{variant:"primary",type:"submit",children:"Submit"}),t.jsx(j,{variant:"secondary",type:"reset",onClick:I,isDisabled:u,children:"Clear"})]})]}),t.jsx(S,{refetch:o,isHidden:b,setIsHidden:h,title:"Login Info",children:t.jsxs("div",{className:"text-center",children:[t.jsx(g,{as:"h5",children:"Login with the below credentials"}),s&&Object.keys(s).length>0?t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{children:[t.jsx(i,{as:"strong",children:"UserName"}),": ",`${s==null?void 0:s.username}`]}),t.jsxs("div",{children:[t.jsx(i,{as:"strong",children:"Password"}),": ",`${s==null?void 0:s.password}`]}),t.jsxs("div",{children:[t.jsx(i,{as:"strong",children:"Bank Account Id"}),": ",`${s==null?void 0:s.bankAccountId}`]})]}):t.jsx(i,{as:"p",children:"No data found"})]})})]})},R=()=>({columns:[{id:1,name:"Bank account Number"},{id:2,name:"Bank Name"},{id:3,name:"Branch Name"},{id:4,name:"Total amount"},{id:5,name:"Status"},{id:6,name:"Edit Action"},{id:7,name:"Delete Action"}],data:[{id:1,bankAccountNumber:8734727492372,bankName:"HDFC",branchName:"Greater Noida",totalAmount:4e3,isActive:!0},{id:2,bankAccountNumber:889889898989,bankName:"Yes Bank",branchName:"Lucknow",totalAmount:7e3,isActive:!1},{id:3,bankAccountNumber:355800009798,bankName:"Bank of India",branchName:"New Delhi",totalAmount:5e3,isActive:!0},{id:4,bankAccountNumber:896234932423,bankName:"Punjab National Bank",branchName:"Noida",totalAmount:3e3,isActive:!1}]}),O=()=>{const{columns:c}=R(),{data:o,refetch:m,isLoading:a}=M();return t.jsxs(d.Fragment,{children:[a&&t.jsx(l,{}),t.jsx(g,{as:"h3",children:"Manage Bank Account (withdrawal)"}),t.jsx(H,{refetch:m}),t.jsx(F,{refetch:m,columns:c,data:(o==null?void 0:o.data)||[]})]})};export{O as default};
