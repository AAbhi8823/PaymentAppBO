import{a as C,o as M,r as b,p as S,j as t,L as y,I as e,B as E,H as w,R as B,q as T}from"./index-9a39d6e8.js";import{T as i}from"./Text-f69b4c95.js";import{M as F,a as H,B as R}from"./BankAccountTable-f806a013.js";import"./useGetTableData-9605a423.js";import"./index-0a3ad37f.js";import"./CheckBox-9c6c6f96.js";const $=c=>{const{refetch:o}=c,{control:a,handleSubmit:d,reset:m}=C({mode:"onChange",resolver:M(H)}),[h,p]=b.useState(!0),[s,_]=b.useState(null),[v,{isLoading:u}]=S(),I=async n=>{var x,N,k,j,l,A,g;const L={account_number:n==null?void 0:n.accountNumber,ifsc_code:n==null?void 0:n.ifscCode,branch_name:n==null?void 0:n.branchName,bank_name:n==null?void 0:n.bankName,phone_number:n==null?void 0:n.mobileNumber,customer_id:n==null?void 0:n.customerId,password:n==null?void 0:n.password,total_deposit_amount:n.totalAmount,min_deposit_limit:n==null?void 0:n.minDepositLimit,max_deposit_limit:n==null?void 0:n.maxDepositLimit,bank_url:"https://netbanking.hdfcbank.com/netbanking/",username:"someone_2345",account_holder_name:"akhter"};try{const r=await v(L);if((N=(x=r==null?void 0:r.data)==null?void 0:x.resData)!=null&&N.status){B((j=(k=r==null?void 0:r.data)==null?void 0:k.resData)==null?void 0:j.message,"success"),p(!h),_((l=r.data.resData)==null?void 0:l.data),o();return}B((g=(A=r==null?void 0:r.error)==null?void 0:A.data)==null?void 0:g.message,"error")}catch(r){throw new Error(`An unknown error occurred ${r}`)}},D=()=>m();return t.jsxs("div",{className:"my-10",children:[u&&t.jsx(y,{}),t.jsxs("form",{onSubmit:d(I),children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:grid-6",children:[t.jsx(e,{control:a,type:"number",name:"accountNumber",id:"accountNumber",label:"Bank Account Number",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"text",name:"ifscCode",id:"IfscCode",label:"IFSC Code",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"text",name:"branchName",id:"branchName",label:"Branch Name",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"text",name:"bankName",id:"bankName",label:"Bank Name",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"number",name:"mobileNumber",id:"phoneNumber",label:"Mobile Number",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{type:"number",name:"totalAmount",id:"totalAmount",control:a,placeholder:"Enter",label:"Total amount",isErrorVisible:!0}),t.jsx(e,{type:"text",name:"customerId",control:a,placeholder:"Enter",label:"Customer Id",id:"customerId",isErrorVisible:!0}),t.jsx(e,{type:"password",label:"Password",control:a,name:"password",id:"password",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"number",name:"minDepositLimit",id:"minDepositLimit",label:"Min Deposit Limit",placeholder:"Enter",isErrorVisible:!0}),t.jsx(e,{control:a,type:"number",name:"maxDepositLimit",id:"maxDepositLimit",label:"Max Deposit Limit",placeholder:"Enter",isErrorVisible:!0})]}),t.jsxs("div",{className:"flex gap-2 mt-6 md:mt-3",children:[t.jsx(E,{variant:"primary",type:"submit",isDisabled:u,children:"Submit"}),t.jsx(E,{variant:"secondary",onClick:D,type:"reset",children:"Clear"})]})]}),t.jsx(F,{isHidden:h,setIsHidden:p,title:"Login Info",children:t.jsxs("div",{className:"text-center",children:[t.jsx(w,{as:"h5",children:"Login with the below credentials"}),s&&Object.keys(s).length>0?t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{children:[t.jsx(i,{as:"strong",children:"UserName"}),": ",`${s==null?void 0:s.username}`]}),t.jsxs("div",{children:[t.jsx(i,{as:"strong",children:"Password"}),": ",`${s==null?void 0:s.password}`]}),t.jsxs("div",{children:[t.jsx(i,{as:"strong",children:"Bank Account Id"}),": ",`${s==null?void 0:s.bankAccountId}`]})]}):t.jsx(i,{as:"p",children:"No data found"})]})})]})},P=()=>({columns:[{id:1,name:"Bank account Number"},{id:2,name:"Bank Name"},{id:3,name:"Branch Name"},{id:4,name:"Total amount"},{id:5,name:"Status"},{id:6,name:"Edit Action"},{id:7,name:"Delete Action"}],data:[{id:1,bankAccountNumber:355800009798,bankName:"Bank of India",branchName:"New Delhi",totalAmount:5e3,isActive:!0},{id:2,bankAccountNumber:896234932423,bankName:"Punjab National Bank",branchName:"Noida",totalAmount:3e3,isActive:!1},{id:3,bankAccountNumber:8734727492372,bankName:"HDFC",branchName:"Greater Noida",totalAmount:4e3,isActive:!0},{id:4,bankAccountNumber:889889898989,bankName:"Yes Bank",branchName:"Lucknow",totalAmount:7e3,isActive:!1}]}),z=()=>{var m;const{columns:c}=P(),{data:o,refetch:a,isLoading:d}=T();return t.jsxs(b.Fragment,{children:[d&&t.jsx(y,{}),t.jsx(w,{as:"h3",children:"Manage Bank Account (Deposit)"}),t.jsx($,{refetch:a}),t.jsx(R,{refetch:a,columns:c,data:((m=o==null?void 0:o.resData)==null?void 0:m.data)||[]})]})};export{z as default};
